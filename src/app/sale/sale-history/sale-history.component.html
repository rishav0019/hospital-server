<!-- <app-titlebar [title]="'Sale History'"></app-titlebar> -->

<div class="sale-history-container" *ngIf="dataLength > 0">



  <!--<div class="row">
    <div class="col-lg-3">
      <mat-form-field class="search full-width">
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search by Customer or Invoice No.">

        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
    </div>
  </div>-->

  <div class="row">
    <div class="col-lg-10">
      <div class="row" *ngIf="!isLoading">
        <div class=" col-6">
          <mat-form-field class="search full-width">
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search by Customer or Invoice No.">

            <mat-icon matSuffix>search</mat-icon>
          </mat-form-field>
        </div>

      </div>
      <div class="row">
        <div class="col-12">

          <!-- <div class="load-wrapper" *ngIf="isLoading">
            <div class="loading-item mat-elevation-z1" *ngFor="let dummy of ' '.repeat(2).split(''), let x = index">
              <div class="wrapper">
                <div class="row">
                  <div class="col">
                    <div class="comment br animate w50"></div>
                  </div>
                  <div class="col">
                    <div class="comment br animate w50"></div>
                  </div>
                </div>
                <div class="row">
                  <div class="col">
                    <div class="comment br animate w50"></div>
                  </div>
                  <div class="col">

                  </div>
                </div>
              </div>
            </div>
          </div> -->

          <!-- .......................................................................................... -->
          <div class="col">
            <table mat-table [dataSource]="billingDetails" multiTemplateDataRows>

              <ng-container matColumnDef="invoice_id">
                <th mat-header-cell *matHeaderCellDef>Invoice</th>
                <td mat-cell *matCellDef="let element">{{ element.invoice_no }}</td>
              </ng-container>
              <ng-container matColumnDef="billing_date">
                <th mat-header-cell *matHeaderCellDef>Date</th>
                <td mat-cell *matCellDef="let element">{{ element.billing_date| date}}</td>
              </ng-container>
              <ng-container matColumnDef="customer_name">
                <th mat-header-cell *matHeaderCellDef>Name</th>
                <td mat-cell *matCellDef="let element">{{ element.customer_name }}</td>
              </ng-container>
              <ng-container matColumnDef="doctor_name">
                <th mat-header-cell *matHeaderCellDef>Doctor Name</th>
                <td mat-cell *matCellDef="let element">{{ element.doctor_name }}</td>
              </ng-container>
              <ng-container matColumnDef="netAmount">
                <th mat-header-cell *matHeaderCellDef>Amount</th>
                <td mat-cell *matCellDef="let element">{{ element.netAmount}}</td>
              </ng-container>
              <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>actions</th>
                <td mat-cell *matCellDef="let element">
                  <button mat-icon-button color="primary" aria-label="edit">
                    <div (click)="editInvoice(element.id)">
                      <mat-icon>edit</mat-icon>
                    </div>
                  </button>
                  <button mat-icon-button color="primary" aria-label="edit">
                    <div (click)="deleteInvoice(element)">
                      <mat-icon>delete</mat-icon>
                    </div>
                  </button>
                  <button mat-icon-button color="primary" aria-label="edit">
                    <div (click)="printInvoice(element.id)">
                      <mat-icon>print</mat-icon>
                    </div>
                  </button>
                </td>
              </ng-container>




              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let element; columns: displayedColumns" class="element-row">
              </tr>

            </table>
          </div>

          <!-- .......................................................... -->
        </div>
        <div class="col-12" *ngIf="!isLoading">
          <mat-paginator [length]="tempdatalength" [pageSize]="5" (page)="pageEventAlter($event)"
            [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
        </div>

      </div>

    </div>

  </div>


</div>

<div class="sale-history-container no-data" *ngIf="dataLength == 0">
  <div class="row">
    <div class="col">
      <div class="img">

      </div>

    </div>
  </div>
  <div class="row">
    <div class="col">
      <h4>It appears you haven't used XpressRx for billing just yet!</h4>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <button type="button" class="custom-btn no-data-btn" mat-raised-button color="primary"
        [routerLink]="['/addSale']">Charge your first Customer</button>
    </div>
  </div>


</div>
